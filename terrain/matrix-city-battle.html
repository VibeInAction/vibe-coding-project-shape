<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>矩阵之都战场 - 几何境域：形态之战</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes pulse-data {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }
        
        @keyframes float-platform {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }
        
        @keyframes rotate-cube {
            0% { transform: rotateX(0) rotateY(0); }
            100% { transform: rotateX(360) rotateY(360); }
        }
        
        @keyframes grid-flow {
            0% { stroke-dashoffset: 0; }
            100% { stroke-dashoffset: -50; }
        }
        
        .pulse-data { animation: pulse-data 2s ease-in-out infinite; }
        .float-platform { animation: float-platform 4s ease-in-out infinite; }
        .rotate-cube { animation: rotate-cube 20s linear infinite; }
        .grid-flow { animation: grid-flow 3s linear infinite; }
        
        .tooltip {
            visibility: hidden;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .tooltip-trigger:hover .tooltip {
            visibility: visible;
            opacity: 1;
        }
        
        .grid-cell {
            transition: all 0.3s ease;
        }
        
        .grid-cell:hover {
            fill-opacity: 0.8;
            stroke-width: 2;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 min-h-screen text-white">
    <div class="container mx-auto px-4 py-8">
        <!-- 标题区域 -->
        <div class="text-center mb-8">
            <h1 class="text-5xl font-bold mb-4 bg-gradient-to-r from-indigo-400 to-purple-400 bg-clip-text text-transparent">
                矩阵之都战场
            </h1>
            <p class="text-xl text-gray-300">规则网格 · 模块化建筑 · 数据流动</p>
            <div class="mt-4 flex justify-center gap-4 text-sm">
                <span class="bg-indigo-600 px-3 py-1 rounded-full">2-4 玩家</span>
                <span class="bg-purple-600 px-3 py-1 rounded-full">大型地图</span>
                <span class="bg-pink-600 px-3 py-1 rounded-full">科技地形</span>
            </div>
        </div>

        <div class="grid lg:grid-cols-4 gap-6">
            <!-- 主地图区域 -->
            <div class="lg:col-span-3">
                <div class="bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700">
                    <div class="relative">
                        <svg viewBox="0 0 1200 900" class="w-full h-auto">
                            <!-- 定义 -->
                            <defs>
                                <pattern id="gridPattern" x="0" y="0" width="50" height="50" patternUnits="userSpaceOnUse">
                                    <path d="M 50 0 L 0 0 0 50" fill="none" stroke="rgba(99,102,241,0.3)" stroke-width="1"/>
                                </pattern>
                                <linearGradient id="platformGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#6366f1;stop-opacity:0.3" />
                                    <stop offset="100%" style="stop-color:#8b5cf6;stop-opacity:0.1" />
                                </linearGradient>
                                <filter id="glow">
                                    <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                                    <feMerge>
                                        <feMergeNode in="coloredBlur"/>
                                        <feMergeNode in="SourceGraphic"/>
                                    </feMerge>
                                </filter>
                            </defs>

                            <!-- 背景网格 -->
                            <rect width="1200" height="900" fill="url(#gridPattern)"/>
                            
                            <!-- 主要区域划分 -->
                            <g class="city-districts">
                                <!-- 左侧工业区 -->
                                <g class="tooltip-trigger cursor-pointer">
                                    <rect x="50" y="150" width="300" height="300" fill="rgba(99,102,241,0.2)" 
                                          stroke="#6366f1" stroke-width="2" rx="10"/>
                                    <text x="200" y="300" text-anchor="middle" fill="#a5b4fc" font-size="16" font-weight="bold">工业区</text>
                                    <g class="tooltip absolute bg-gray-900 p-2 rounded">
                                        <rect x="360" y="280" width="120" height="60" fill="#1f2937" stroke="#374151" rx="4"/>
                                        <text x="370" y="300" fill="#f3f4f6">生产区域</text>
                                        <text x="370" y="315" fill="#10b981">建造速度 +20%</text>
                                        <text x="370" y="330" fill="#3b82f6">方碑盟约优势区</text>
                                    </g>
                                </g>
                                
                                <!-- 右侧科技区 -->
                                <g class="tooltip-trigger cursor-pointer">
                                    <rect x="850" y="150" width="300" height="300" fill="rgba(139,92,246,0.2)" 
                                          stroke="#8b5cf6" stroke-width="2" rx="10"/>
                                    <text x="1000" y="300" text-anchor="middle" fill="#c4b5fd" font-size="16" font-weight="bold">科技区</text>
                                    <g class="tooltip absolute bg-gray-900 p-2 rounded">
                                        <rect x="860" y="280" width="120" height="60" fill="#1f2937" stroke="#374151" rx="4"/>
                                        <text x="870" y="300" fill="#f3f4f6">研发中心</text>
                                        <text x="870" y="315" fill="#10b981">科技速度 +30%</text>
                                        <text x="870" y="330" fill="#3b82f6">数据节点密集</text>
                                    </g>
                                </g>
                                
                                <!-- 中央商业区 -->
                                <g class="tooltip-trigger cursor-pointer">
                                    <rect x="350" y="200" width="500" height="300" fill="rgba(236,72,153,0.2)" 
                                          stroke="#ec4899" stroke-width="2" rx="10"/>
                                    <text x="600" y="350" text-anchor="middle" fill="#fbcfe8" font-size="16" font-weight="bold">商业区</text>
                                    <g class="tooltip absolute bg-gray-900 p-2 rounded">
                                        <rect x="710" y="330" width="120" height="60" fill="#1f2937" stroke="#374151" rx="4"/>
                                        <text x="720" y="350" fill="#f3f4f6">贸易中心</text>
                                        <text x="720" y="365" fill="#fbbf24">资源交易 +25%</text>
                                        <text x="720" y="380" fill="#10b981">中立商店区</text>
                                    </g>
                                </g>
                                
                                <!-- 底部住宅区 -->
                                <g class="tooltip-trigger cursor-pointer">
                                    <rect x="200" y="550" width="800" height="250" fill="rgba(34,197,94,0.2)" 
                                          stroke="#22c55e" stroke-width="2" rx="10"/>
                                    <text x="600" y="675" text-anchor="middle" fill="#86efac" font-size="16" font-weight="bold">住宅区</text>
                                    <g class="tooltip absolute bg-gray-900 p-2 rounded">
                                        <rect x="810" y="655" width="120" height="60" fill="#1f2937" stroke="#374151" rx="4"/>
                                        <text x="820" y="675" fill="#f3f4f6">人口中心</text>
                                        <text x="820" y="690" fill="#10b981">单位恢复 +15%</text>
                                        <text x="820" y="705" fill="#6b7280">防御建筑区域</text>
                                    </g>
                                </g>
                            </g>

                            <!-- 浮空平台 -->
                            <g class="floating-platforms">
                                <!-- 中央浮空平台 -->
                                <g class="tooltip-trigger cursor-pointer" transform="translate(600,350)">
                                    <rect x="-60" y="-40" width="120" height="80" fill="url(#platformGrad)" 
                                          stroke="#a78bfa" stroke-width="3" rx="5" filter="url(#glow)" class="float-platform"/>
                                            <rect x="-40" y="-25" width="80" height="50" fill="rgba(167,139,250,0.3)" rx="3"/>
                                    <text y="5" text-anchor="middle" fill="#e9d5ff" font-size="12" font-weight="bold">浮空平台</text>
                                    <g class="tooltip absolute bg-gray-900 p-2 rounded">
                                        <rect x="65" y="-40" width="140" height="80" fill="#1f2937" stroke="#374151" rx="4"/>
                                        <text x="75" y="-20" fill="#f3f4f6">战略浮空平台</text>
                                        <text x="75" y="-5" fill="#a78bfa">空中优势 +50%</text>
                                        <text x="75" y="10" fill="#10b981">视野范围 +100%</text>
                                        <text x="75" y="25" fill="#fbbf24">可占领控制</text>
                                    </g>
                                </g>
                                
                                <!-- 侧翼浮空平台 -->
                                <g class="tooltip-trigger cursor-pointer" transform="translate(200,300)">
                                    <rect x="-40" y="-30" width="80" height="60" fill="url(#platformGrad)" 
                                          stroke="#a78bfa" stroke-width="2" rx="5" filter="url(#glow)" class="float-platform"/>
                                    <text y="5" text-anchor="middle" fill="#e9d5ff" font-size="10">平台</text>
                                </g>
                                <g class="tooltip-trigger cursor-pointer" transform="translate(1000,300)">
                                    <rect x="-40" y="-30" width="80" height="60" fill="url(#platformGrad)" 
                                          stroke="#a78bfa" stroke-width="2" rx="5" filter="url(#glow)" class="float-platform"/>
                                    <text y="5" text-anchor="middle" fill="#e9d5ff" font-size="10">平台</text>
                                </g>
                            </g>

                            <!-- 数据中心 -->
                            <g class="data-centers">
                                <!-- 主数据中心 -->
                                <g class="tooltip-trigger cursor-pointer" transform="translate(600,100)">
                                    <g class="rotate-cube">
                                        <rect x="-30" y="-30" width="60" height="60" fill="#6366f1" stroke="#4f46e5" stroke-width="2" rx="5"/>
                                        <rect x="-20" y="-20" width="40" height="40" fill="none" stroke="#a5b4fc" stroke-width="1"/>
                                        <line x1="-20" y1="0" x2="20" y2="0" stroke="#a5b4fc" stroke-width="1"/>
                                        <line x1="0" y1="-20" x2="0" y2="20" stroke="#a5b4fc" stroke-width="1"/>
                                    </g>
                                    <text y="50" text-anchor="middle" fill="#a5b4fc" font-size="12" font-weight="bold">数据中心</text>
                                    <g class="tooltip absolute bg-gray-900 p-2 rounded">
                                        <rect x="35" y="-30" width="140" height="80" fill="#1f2937" stroke="#374151" rx="4"/>
                                        <text x="45" y="-10" fill="#f3f4f6">主数据中心</text>
                                        <text x="45" y="5" fill="#fbbf24">科技资源 +3/秒</text>
                                        <text x="45" y="20" fill="#10b981">研究速度 +40%</text>
                                        <text x="45" y="35" fill="#ef4444">战略目标</text>
                                    </g>
                                </g>
                                
                                <!-- 子数据中心 -->
                                <g class="tooltip-trigger cursor-pointer" transform="translate(200,200)">
                                    <rect x="-20" y="-20" width="40" height="40" fill="#8b5cf6" stroke="#7c3aed" stroke-width="2" rx="3"/>
                                    <text y="35" text-anchor="middle" fill="#c4b5fd" font-size="10">子中心</text>
                                </g>
                                <g class="tooltip-trigger cursor-pointer" transform="translate(1000,200)">
                                    <rect x="-20" y="-20" width="40" height="40" fill="#8b5cf6" stroke="#7c3aed" stroke-width="2" rx="3"/>
                                    <text y="35" text-anchor="middle" fill="#c4b5fd" font-size="10">子中心</text>
                                </g>
                            </g>

                            <!-- 能量反应堆 -->
                            <g class="energy-reactors">
                                <g class="tooltip-trigger cursor-pointer" transform="translate(400,500)">
                                    <circle r="30" fill="#f59e0b" stroke="#d97706" stroke-width="3" filter="url(#glow)" class="pulse-data"/>
                                    <circle r="20" fill="#fbbf24" stroke="#f59e0b" stroke-width="2"/>
                                    <text y="5" text-anchor="middle" fill="#fef3c7" font-size="10" font-weight="bold">反应堆</text>
                                    <g class="tooltip absolute bg-gray-900 p-2 rounded">
                                        <rect x="35" y="-20" width="120" height="60" fill="#1f2937" stroke="#374151" rx="4"/>
                                        <text x="45" y="0" fill="#f3f4f6">能量反应堆</text>
                                        <text x="45" y="15" fill="#fbbf24">能量产出 +5/秒</text>
                                        <text x="45" y="30" fill="#10b981">范围加成效果</text>
                                    </g>
                                </g>
                                <g class="tooltip-trigger cursor-pointer" transform="translate(800,500)">
                                    <circle r="30" fill="#f59e0b" stroke="#d97706" stroke-width="3" filter="url(#glow)" class="pulse-data"/>
                                    <circle r="20" fill="#fbbf24" stroke="#f59e0b" stroke-width="2"/>
                                    <text y="5" text-anchor="middle" fill="#fef3c7" font-size="10" font-weight="bold">反应堆</text>
                                </g>
                            </g>

                            <!-- 矩阵核心 -->
                            <g class="tooltip-trigger cursor-pointer" transform="translate(600,500)">
                                <g class="rotate-cube">
                                    <polygon points="0,-40 35,20 -35,20" fill="#ec4899" stroke="#db2777" stroke-width="3" filter="url(#glow)"/>
                                            <polygon points="0,-25 20,12 -20,12" fill="#f9a8d4" stroke="#ec4899" stroke-width="2"/>
                                </g>
                                <text y="50" text-anchor="middle" fill="#fbcfe8" font-size="14" font-weight="bold">矩阵核心</text>
                                <g class="tooltip absolute bg-gray-900 p-2 rounded">
                                    <rect x="40" y="-40" width="140" height="80" fill="#1f2937" stroke="#374151" rx="4"/>
                                    <text x="50" y="-20" fill="#f3f4f6">矩阵核心</text>
                                    <text x="50" y="-5" fill="#ec4899">全局控制点</text>
                                    <text x="50" y="10" fill="#fbbf24">所有资源 +50%</text>
                                    <text x="50" y="25" fill="#ef4444">胜利条件</text>
                                </g>
                            </g>

                            <!-- 立方体建筑群 -->
                            <g class="cube-buildings">
                                <!-- 工业区建筑 -->
                                <rect x="100" y="200" width="40" height="40" fill="#6366f1" stroke="#4f46e5" stroke-width="1" rx="3"/>
                                <rect x="160" y="200" width="40" height="40" fill="#6366f1" stroke="#4f46e5" stroke-width="1" rx="3"/>
                                <rect x="100" y="260" width="40" height="40" fill="#6366f1" stroke="#4f46e5" stroke-width="1" rx="3"/>
                                <rect x="160" y="260" width="40" height="40" fill="#6366f1" stroke="#4f46e5" stroke-width="1" rx="3"/>
                                
                                <!-- 科技区建筑 -->
                                <rect x="900" y="200" width="40" height="40" fill="#8b5cf6" stroke="#7c3aed" stroke-width="1" rx="3"/>
                                <rect x="960" y="200" width="40" height="40" fill="#8b5cf6" stroke="#7c3aed" stroke-width="1" rx="3"/>
                                <rect x="900" y="260" width="40" height="40" fill="#8b5cf6" stroke="#7c3aed" stroke-width="1" rx="3"/>
                                <rect x="960" y="260" width="40" height="40" fill="#8b5cf6" stroke="#7c3aed" stroke-width="1" rx="3"/>
                                
                                <!-- 住宅区建筑 -->
                                <rect x="250" y="600" width="50" height="50" fill="#22c55e" stroke="#16a34a" stroke-width="1" rx="3"/>
                                <rect x="320" y="600" width="50" height="50" fill="#22c55e" stroke="#16a34a" stroke-width="1" rx="3"/>
                                <rect x="390" y="600" width="50" height="50" fill="#22c55e" stroke="#16a34a" stroke-width="1" rx="3"/>
                                <rect x="460" y="600" width="50" height="50" fill="#22c55e" stroke="#16a34a" stroke-width="1" rx="3"/>
                                <rect x="530" y="600" width="50" height="50" fill="#22c55e" stroke="#16a34a" stroke-width="1" rx="3"/>
                                <rect x="600" y="600" width="50" height="50" fill="#22c55e" stroke="#16a34a" stroke-width="1" rx="3"/>
                                <rect x="670" y="600" width="50" height="50" fill="#22c55e" stroke="#16a34a" stroke-width="1" rx="3"/>
                                <rect x="740" y="600" width="50" height="50" fill="#22c55e" stroke="#16a34a" stroke-width="1" rx="3"/>
                                <rect x="810" y="600" width="50" height="50" fill="#22c55e" stroke="#16a34a" stroke-width="1" rx="3"/>
                                <rect x="880" y="600" width="50" height="50" fill="#22c55e" stroke="#16a34a" stroke-width="1" rx="3"/>
                            </g>

                            <!-- 可折叠的空间桥 -->
                            <g class="space-bridges">
                                <g class="tooltip-trigger cursor-pointer">
                                    <path d="M 350,300 L 450,300" stroke="#a78bfa" stroke-width="4" 
                                          fill="none" stroke-dasharray="10,5" class="grid-flow" filter="url(#glow)"/>
                                    <text x="400" y="290" text-anchor="middle" fill="#e9d5ff" font-size="10">空间桥</text>
                                    <g class="tooltip absolute bg-gray-900 p-2 rounded">
                                        <rect x="460" y="280" width="120" height="60" fill="#1f2937" stroke="#374151" rx="4"/>
                                        <text x="470" y="300" fill="#f3f4f6">可折叠空间桥</text>
                                        <text x="470" y="315" fill="#9ca3af">可开关的通道</text>
                                        <text x="470" y="330" fill="#a78bfa">快速传送</text>
                                    </g>
                                </g>
                                <g class="tooltip-trigger cursor-pointer">
                                    <path d="M 750,300 L 850,300" stroke="#a78bfa" stroke-width="4" 
                                          fill="none" stroke-dasharray="10,5" class="grid-flow" filter="url(#glow)"/>
                                    <text x="800" y="290" text-anchor="middle" fill="#e9d5ff" font-size="10">空间桥</text>
                                </g>
                            </g>

                            <!-- 安全系统炮塔 -->
                            <g class="defense-turrets">
                                <g class="tooltip-trigger cursor-pointer" transform="translate(150,500)">
                                    <polygon points="0,-15 13,7.5 -13,7.5" fill="#ef4444" stroke="#dc2626" stroke-width="2"/>
                                    <circle r="5" fill="#fecaca"/>
                                    <text y="30" text-anchor="middle" fill="#fecaca" font-size="10">炮塔</text>
                                    <g class="tooltip absolute bg-gray-900 p-2 rounded">
                                        <rect x="20" y="-15" width="120" height="60" fill="#1f2937" stroke="#374151" rx="4"/>
                                        <text x="30" y="5" fill="#f3f4f6">安全系统炮塔</text>
                                        <text x="30" y="20" fill="#ef4444">自动防御</text>
                                        <text x="30" y="35" fill="#9ca3af">可占领控制</text>
                                    </g>
                                </g>
                                <g class="tooltip-trigger cursor-pointer" transform="translate(1050,500)">
                                    <polygon points="0,-15 13,7.5 -13,7.5" fill="#ef4444" stroke="#dc2626" stroke-width="2"/>
                                    <circle r="5" fill="#fecaca"/>
                                    <text y="30" text-anchor="middle" fill="#fecaca" font-size="10">炮塔</text>
                                </g>
                                <g class="tooltip-trigger cursor-pointer" transform="translate(600,700)">
                                    <polygon points="0,-15 13,7.5 -13,7.5" fill="#ef4444" stroke="#dc2626" stroke-width="2"/>
                                    <circle r="5" fill="#fecaca"/>
                                    <text y="30" text-anchor="middle" fill="#fecaca" font-size="10">炮塔</text>
                                </g>
                            </g>

                            <!-- 资源点 -->
                            <g class="resources">
                                <!-- 形魄泉眼 -->
                                <g class="tooltip-trigger cursor-pointer" transform="translate(300,350)">
                                    <circle r="15" fill="#10b981" stroke="#059669" stroke-width="2"/>
                                    <text y="5" text-anchor="middle" fill="#d1fae5" font-size="10">形魄泉</text>
                                </g>
                                <g class="tooltip-trigger cursor-pointer" transform="translate(900,350)">
                                    <circle r="15" fill="#10b981" stroke="#059669" stroke-width="2"/>
                                    <text y="5" text-anchor="middle" fill="#d1fae5" font-size="10">形魄泉</text>
                                </g>
                                <g class="tooltip-trigger cursor-pointer" transform="translate(450,650)">
                                    <circle r="15" fill="#10b981" stroke="#059669" stroke-width="2"/>
                                    <text y="5" text-anchor="middle" fill="#d1fae5" font-size="10">形魄泉</text>
                                </g>
                                <g class="tooltip-trigger cursor-pointer" transform="translate(750,650)">
                                    <circle r="15" fill="#10b981" stroke="#059669" stroke-width="2"/>
                                    <text y="5" text-anchor="middle" fill="#d1fae5" font-size="10">形魄泉</text>
                                </g>
                                
                                <!-- 纯净水晶 -->
                                <g class="tooltip-trigger cursor-pointer" transform="translate(150,350)">
                                    <rect x="-12" y="-12" width="24" height="24" fill="#60a5fa" stroke="#3b82f6" stroke-width="2" rx="3" filter="url(#glow)"/>
                                    <text y="5" text-anchor="middle" fill="#dbeafe" font-size="9">水晶</text>
                                </g>
                                <g class="tooltip-trigger cursor-pointer" transform="translate(1050,350)">
                                    <rect x="-12" y="-12" width="24" height="24" fill="#60a5fa" stroke="#3b82f6" stroke-width="2" rx="3" filter="url(#glow)"/>
                                    <text y="5" text-anchor="middle" fill="#dbeafe" font-size="9">水晶</text>
                                </g>
                            </g>

                            <!-- 出生点 -->
                            <g class="spawn-points">
                                <!-- 玩家1出生点 -->
                                <g class="tooltip-trigger cursor-pointer" transform="translate(100,100)">
                                    <rect x="-35" y="-35" width="70" height="70" fill="#ef4444" fill-opacity="0.5" 
                                          stroke="#ef4444" stroke-width="3" rx="5" stroke-dasharray="5,5"/>
                                    <text y="5" text-anchor="middle" fill="#fecaca" font-size="16" font-weight="bold">P1</text>
                                    <text y="-45" text-anchor="middle" fill="#ef4444" font-size="12">出生点</text>
                                </g>
                                
                                <!-- 玩家2出生点 -->
                                <g class="tooltip-trigger cursor-pointer" transform="translate(1100,100)">
                                    <rect x="-35" y="-35" width="70" height="70" fill="#3b82f6" fill-opacity="0.5" 
                                          stroke="#3b82f6" stroke-width="3" rx="5" stroke-dasharray="5,5"/>
                                    <text y="5" text-anchor="middle" fill="#dbeafe" font-size="16" font-weight="bold">P2</text>
                                    <text y="-45" text-anchor="middle" fill="#3b82f6" font-size="12">出生点</text>
                                </g>
                                
                                <!-- 玩家3-4出生点 -->
                                <g class="tooltip-trigger cursor-pointer" transform="translate(100,800)">
                                    <rect x="-30" y="-30" width="60" height="60" fill="#10b981" fill-opacity="0.5" 
                                          stroke="#10b981" stroke-width="2" rx="5" stroke-dasharray="5,5"/>
                                    <text y="5" text-anchor="middle" fill="#d1fae5" font-size="14" font-weight="bold">P3</text>
                                </g>
                                <g class="tooltip-trigger cursor-pointer" transform="translate(1100,800)">
                                    <rect x="-30" y="-30" width="60" height="60" fill="#f59e0b" fill-opacity="0.5" 
                                          stroke="#f59e0b" stroke-width="2" rx="5" stroke-dasharray="5,5"/>
                                    <text y="5" text-anchor="middle" fill="#fed7aa" font-size="14" font-weight="bold">P4</text>
                                </g>
                            </g>

                            <!-- 中立商店 -->
                            <g class="tooltip-trigger cursor-pointer" transform="translate(600,250)">
                                <rect x="-35" y="-30" width="70" height="60" fill="#8b5cf6" stroke="#7c3aed" stroke-width="2" rx="5"/>
                                <text y="0" text-anchor="middle" fill="#e9d5ff" font-size="12" font-weight="bold">商店</text>
                                <text y="15" text-anchor="middle" fill="#ddd6fe" font-size="10">中立</text>
                                <g class="tooltip absolute bg-gray-900 p-2 rounded">
                                    <rect x="40" y="-30" width="140" height="80" fill="#1f2937" stroke="#374151" rx="4"/>
                                    <text x="50" y="-10" fill="#f3f4f6">商业区商店</text>
                                    <text x="50" y="5" fill="#9ca3af">雇佣佣兵单位</text>
                                    <text x="50" y="20" fill="#fbbf24">购买科技升级</text>
                                    <text x="50" y="35" fill="#10b981">资源交易</text>
                                </g>
                            </g>

                            <!-- 数据流指示 -->
                            <g class="data-flows" opacity="0.5">
                                <path d="M 200,200 L 600,100" stroke="#a78bfa" stroke-width="1" stroke-dasharray="2,2" class="pulse-data"/>
                                <path d="M 1000,200 L 600,100" stroke="#a78bfa" stroke-width="1" stroke-dasharray="2,2" class="pulse-data"/>
                                <path d="M 600,100 L 600,250" stroke="#a78bfa" stroke-width="1" stroke-dasharray="2,2" class="pulse-data"/>
                                <path d="M 400,500 L 600,500" stroke="#fbbf24" stroke-width="1" stroke-dasharray="2,2" class="pulse-data"/>
                                <path d="M 800,500 L 600,500" stroke="#fbbf24" stroke-width="1" stroke-dasharray="2,2" class="pulse-data"/>
                            </g>
                        </svg>

                        <!-- 地图图例 -->
                        <div class="mt-4 grid grid-cols-2 md:grid-cols-3 gap-4 text-sm">
                            <div class="flex items-center gap-2">
                                <div class="w-4 h-4 bg-indigo-500 rounded"></div>
                                <span>工业区（建造+20%）</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <div class="w-4 h-4 bg-purple-500 rounded"></div>
                                <span>科技区（研究+30%）</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <div class="w-4 h-4 bg-pink-500 rounded opacity-50"></div>
                                <span>浮空平台（空中优势）</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <div class="w-4 h-4 bg-yellow-500 rounded-full"></div>
                                <span>能量反应堆</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 侧边栏 -->
            <div class="space-y-6">
                <!-- 小地图 -->
                <div class="bg-gray-800/50 backdrop-blur-sm rounded-xl p-4 border border-gray-700">
                    <h3 class="text-lg font-semibold mb-3">小地图</h3>
                    <div class="relative bg-gray-900 rounded-lg" style="padding-bottom: 75%;">
                        <svg class="absolute inset-0 w-full h-full rounded-lg" viewBox="0 0 1200 900">
                            <!-- 简化的区域 -->
                            <rect x="50" y="150" width="300" height="300" fill="#6366f1" opacity="0.6"/>
                            <rect x="850" y="150" width="300" height="300" fill="#8b5cf6" opacity="0.6"/>
                            <rect x="350" y="200" width="500" height="300" fill="#ec4899" opacity="0.6"/>
                            <rect x="200" y="550" width="800" height="250" fill="#22c55e" opacity="0.6"/>
                            
                            <!-- 关键点 -->
                            <rect x="580" y="90" width="40" height="40" fill="#6366f1" class="minimap-point"/>
                            <circle cx="600" cy="500" r="15" fill="#ec4899" class="minimap-point"/>
                            <circle cx="400" cy="500" r="10" fill="#f59e0b" class="minimap-point"/>
                            <circle cx="800" cy="500" r="10" fill="#f59e0b" class="minimap-point"/>
                            
                            <!-- 出生点 -->
                            <rect x="85" y="85" width="30" height="30" fill="#ef4444" class="minimap-point"/>
                            <rect x="1085" y="85" width="30" height="30" fill="#3b82f6" class="minimap-point"/>
                            <rect x="85" y="785" width="30" height="30" fill="#10b981" class="minimap-point"/>
                            <rect x="1085" y="785" width="30" height="30" fill="#f59e0b" class="minimap-point"/>
                            
                            <!-- 当前视图框 -->
                            <rect x="200" y="100" width="800" height="700" fill="none" stroke="#a78bfa" stroke-width="1" stroke-dasharray="2,2" opacity="0.5"/>
                        </svg>
                    </div>
                </div>

                <!-- 地图信息 -->
                <div class="bg-gray-800/50 backdrop-blur-sm rounded-xl p-4 border border-gray-700">
                    <h3 class="text-lg font-semibold mb-3">地图信息</h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between">
                            <span class="text-gray-400">地图大小</span>
                            <span>1200x900</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-400">最大玩家</span>
                            <span>4人</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-400">地形类型</span>
                            <span>城市网格</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-400">资源点</span>
                            <span>6个</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-400">战略点</span>
                            <span>5个</span>
                        </div>
                    </div>
                </div>

                <!-- 种族优势 -->
                <div class="bg-gray-800/50 backdrop-blur-sm rounded-xl p-4 border border-gray-700">
                    <h3 class="text-lg font-semibold mb-3">种族优势</h3>
                    <div class="space-y-2 text-sm">
                        <div class="p-2 bg-blue-900/30 rounded">
                            <span class="text-blue-400 font-semibold"><a href="races/square-obelisk.html" class="hover:text-blue-400-300 transition">方碑盟约</a></span>
                            <p class="text-gray-300 text-xs mt-1">建造速度 +50%</p>
                        </div>
                        <div class="p-2 bg-purple-900/30 rounded">
                            <span class="text-purple-400 font-semibold">所有种族</span>
                            <p class="text-gray-300 text-xs mt-1">区域加成效果</p>
                        </div>
                        <div class="p-2 bg-indigo-900/30 rounded">
                            <span class="text-indigo-400 font-semibold">科技加成</span>
                            <p class="text-gray-300 text-xs mt-1">数据中心效果</p>
                        </div>
                    </div>
                </div>

                <!-- 操作按钮 -->
                <div class="space-y-3">
                    <button class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-4 rounded-lg transition duration-200 flex items-center justify-center gap-2">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        开始战斗
                    </button>
                    <button class="w-full bg-gray-700 hover:bg-gray-600 text-white font-semibold py-3 px-4 rounded-lg transition duration-200 flex items-center justify-center gap-2">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                        </svg>
                        编辑地图
                    </button>
                    <a href="index.html" class="block w-full bg-gray-600 hover:bg-gray-500 text-white font-semibold py-3 px-4 rounded-lg transition duration-200 text-center">
                        返回地图列表
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 地图交互功能
        document.addEventListener('DOMContentLoaded', function() {
            // 区域高亮
            const districts = document.querySelectorAll('.city-districts > g');
            districts.forEach(district => {
                district.addEventListener('mouseenter', function() {
                    this.querySelector('rect').style.fillOpacity = '0.4';
                });
                district.addEventListener('mouseleave', function() {
                    this.querySelector('rect').style.fillOpacity = '0.2';
                });
            });

            // 建筑物点击效果
            const buildings = document.querySelectorAll('.cube-buildings rect');
            buildings.forEach(building => {
                building.addEventListener('click', function() {
                    this.style.transform = 'scale(1.1)';
                    setTimeout(() => {
                        this.style.transform = 'scale(1)';
                    }, 200);
                });
            });

            // 数据流动画
            const dataFlows = document.querySelectorAll('.data-flows path');
            dataFlows.forEach((flow, index) => {
                flow.style.animationDelay = `${index * 0.5}s`;
            });

            // 出生点选择
            const spawnPoints = document.querySelectorAll('.spawn-points > g');
            spawnPoints.forEach(point => {
                point.addEventListener('click', function() {
                    // 移除其他选中状态
                    spawnPoints.forEach(p => {
                        p.querySelector('rect').style.strokeWidth = p.querySelector('rect').getAttribute('stroke-width');
                    });
                    // 高亮当前选择
                    const rect = this.querySelector('rect');
                    rect.style.strokeWidth = '5';
                });
            });
        });
    </script>
</body>
</html>