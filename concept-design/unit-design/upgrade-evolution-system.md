# 兵种升级和进化系统设计

## 系统概述

《几何境域：形态之战》的兵种升级和进化系统是一个多层次、动态发展的系统，旨在为玩家提供深度策略选择和成长体验。每个种族都有其独特的升级路径和进化机制，反映了其核心理念和特色。

## 一、升级系统基础架构

### 1. 升级类型分类

#### 基础升级（Tier 1）
- **获取方式**：通过基础建筑研究
- **资源消耗**：仅需要形魄能量
- **研究时间**：20-40秒
- **影响范围**：影响对应类型所有单位

#### 进阶升级（Tier 2）
- **获取方式**：需要进阶建筑
- **资源消耗**：形魄能量 + 纯净形魄
- **研究时间**：45-90秒
- **前置条件**：需要完成对应的基础升级

#### 终极升级（Tier 3）
- **获取方式**：需要特殊建筑或英雄
- **资源消耗**：形魄能量 + 纯净形魄 + 几何精华
- **研究时间**：100-180秒
- **特殊限制**：一场游戏只能选择一个终极升级

### 2. 升级效果分类

#### 属性提升类
- **基础属性**：生命值、攻击力、防御力、移动速度
- **战斗属性**：攻击速度、暴击率、命中率
- **特殊属性**：视野范围、护盾恢复、技能强度

#### 能力解锁类
- **新技能**：获得新的主动或被动技能
- **功能扩展**：扩展单位原有功能
- **形态变化**：改变单位形态或作战方式

#### 特殊效果类
- **种族特性**：增强种族独特机制
- **协同效应**：提升单位间配合效果
- **环境适应**：增强特定环境下的表现

## 二、种族特色升级系统

### 1. 圆环族 - 和谐升级系统

#### 共鸣网络
```
基础效果：
- 相邻同种单位获得10%属性加成
- 加成效果可以叠加，最多3层

升级路径：
1. 强化共鸣（Tier 1）
   - 加成提升至15%
   - 范围扩大1格
   
2. 和谐共振（Tier 2）
   - 加成提升至25%
   - 不同类型单位间也能获得加成
   
3. 完美共鸣（Tier 3）
   - 加成提升至40%
   - 全地图范围生效
```

#### 护盾进化
```
基础效果：
- 所有单位拥有基础护盾
- 护盾受损后自动恢复

升级路径：
1. 护盾强化（Tier 1）
   - 护盾值+30%
   - 恢复速度+50%
   
2. 能量循环（Tier 2）
   - 攻击时恢复护盾
   - 护盾恢复速度翻倍
   
3. 永恒护盾（Tier 3）
   - 护盾破坏后有30%概率立即重生
   - 护盾值+100%
```

### 2. 三角议会 - 效率升级系统

#### 三角阵型
```
基础效果：
- 3个单位形成三角时获得加成
- 加成效果：攻击力+20%，防御力+20%

升级路径：
1. 阵型优化（Tier 1）
   - 加成提升至30%
   - 阵型更容易形成
   
2. 力量叠加（Tier 2）
   - 每增加一个三角单位，加成+10%
   - 解锁特殊阵型效果
   
3. 绝对三角（Tier 3）
   - 三角阵型单位获得免疫效果
   - 可以形成超级三角体
```

#### 牺牲强化
```
基础效果：
- 单位可以牺牲自己强化友军
- 牺牲效果：附近友军获得临时增益

升级路径：
1. 勇士精神（Tier 1）
   - 牺牲效果提升50%
   - 牺牲单位有20%概率不死亡
   
2. 荣耀传承（Tier 2）
   - 牺牲效果可以叠加
   - 激活特殊技能"复仇之魂"
   
3. 无限牺牲（Tier 3）
   - 牺牲单位立即重生在主基地
   - 牺牲效果永久化
```

### 3. 方碑盟约 - 模块化升级系统

#### 标准化生产
```
基础效果：
- 单位生产速度快
- 同类单位数量影响效率

升级路径：
1. 生产线优化（Tier 1）
   - 生产速度+30%
   - 成本降低15%
   
2. 量子建造（Tier 2）
   - 可以同时生产多个单位
   - 解锁快速建造能力
   
3. 完美标准（Tier 3）
   - 单位瞬间完成
   - 所有单位获得完美属性
```

#### 模块组合
```
基础效果：
- 单位可以自由组合和分离
- 组合后获得新能力

升级路径：
1. 高级组合（Tier 1）
   - 解锁更多组合方式
   - 组合属性加成+50%
   
2. 即时重组（Tier 2）
   - 战斗中可以自由重组
   - 重组不消耗行动点
   
3. 无限模块（Tier 3）
   - 可以无限组合
   - 每个模块都保留独立意识
```

### 4. 螺旋之子 - 进化升级系统

#### 成长进化
```
基础效果：
- 单位随时间成长
- 击杀敌人获得进化点数

升级路径：
1. 快速适应（Tier 1）
   - 成长速度+50%
   - 进化点数获取+30%
   
2. 生命绽放（Tier 2）
   - 解锁进化分支选择
   - 可以主动进化
   
3. 黄金螺旋（Tier 3）
   - 进化无上限
   - 每次进化获得随机新能力
```

#### 形态变化
```
基础效果：
- 单位可以根据需要改变形态
- 不同形态有不同特性

升级路径：
1. 多重形态（Tier 1）
   - 解锁第二种形态
   - 形态切换速度+50%
   
2. 完美适应（Tier 2）
   - 解锁第三种形态
   - 形态切换无冷却
   
3. 无限形态（Tier 3）
   - 可以创造独特形态
   - 每个形态都有特殊能力
```

## 三、英雄升级系统

### 1. 等级成长
- **基础等级**：1-20级
- **经验获取**：击杀单位、完成任务、辅助友军
- **每级奖励**：
  - 基础属性提升
  - 每3级获得技能点
  - 每6级获得天赋点

### 2. 技能升级
- **技能等级**：每项技能最多5级
- **升级效果**：
  - 基础数值提升
  - 冷却时间减少
  - 特殊效果增强
- **技能点获取**：每3级1点，初始2点

### 3. 天赋系统
```
每6级获得1个天赋点，可以选择一个天赋分支：

通用天赋：
- 生命强化：最大生命值+20%
- 攻击强化：攻击力+15%
- 防御强化：护甲+25%

种族专属天赋：
圆环族：
- 共鸣大师：共鸣效果翻倍
- 护盾专家：护盾效率+50%

三角议会：
- 三角统帅：三角阵型范围+100%
- 牺牲英雄：牺牲效果可以作用于英雄

方碑盟约：
- 模块天才：组合速度+100%
- 量子操控：可以传送建筑

螺旋之子：
- 进化先锋：进化速度+100%
- 生命主宰：治疗效率+100%
```

### 4. 装备系统
- **装备类型**：武器、护甲、饰品
- **获取方式**：商店购买、任务奖励、击败Boss
- **装备等级**：普通、精良、稀有、史诗、传说
- **特殊效果**：每个装备提供独特被动效果

## 四、进化机制详解

### 1. 圆环族 - 共鸣进化
```
进化条件：
- 需要至少3个同类单位相邻
- 消耗纯净形魄

进化效果：
- 单位合并为精英版本
- 获得新技能"共鸣爆发"
- 永久提升附近友军属性

特殊进化：
- 完美圆环：5个单位形成完美圆环
- 获得群体护盾和伤害反弹能力
```

### 2. 三角议会 - 锐利进化
```
进化条件：
- 单位需要获得特定战功
- 牺牲其他单位提供能量

进化效果：
- 单位获得锐利化外观
- 攻击力大幅提升
- 获得破甲能力

特殊进化：
- 绝对三角：三个精英单位进化
- 形成不可摧毁的三角结构
```

### 3. 方碑盟约 - 升级进化
```
进化条件：
- 收集足够的升级模块
- 在升级建筑中完成

进化效果：
- 单位获得新模块
- 解锁新能力
- 属性全面提升

特殊进化：
- 超立方体：四个单位完美组合
- 获得空间操控能力
```

### 4. 螺旋之子 - 成长进化
```
进化条件：
- 积累足够的进化点数
- 生存一定时间

进化效果：
- 单位体型增大
- 获得新能力
- 解锁进化分支

特殊进化：
- 完美生命体：完成所有进化路线
- 获得近乎无限的能力
```

## 五、动态平衡机制

### 1. 升级成本递增
- 每次升级同类单位，成本增加20%
- 最多递增至300%
- 游戏时间每5分钟，递增效果减少10%

### 2. 反制机制
- 针对性升级可以克制特定升级
- 升级信息对敌人部分可见
- 可以研发反升级科技

### 3. 动态调整
- 根据游戏进程调整升级效果
- 后期升级效果更强
- 保持各时期平衡性

## 六、升级界面设计

### 1. 升级树界面
- **可视化树状结构**：清晰显示升级路径
- **实时更新**：显示当前进度和下一步选项
- **详细信息**：鼠标悬停显示详细信息
- **快捷操作**：可以预设升级顺序

### 2. 单位升级界面
- **属性对比**：显示升级前后属性变化
- **预览功能**：可以预览升级后的外观
- **批量操作**：可以同时升级多个单位
- **推荐提示**：AI推荐最优升级路径

## 七、特殊升级系统

### 1. 地形关联升级
- 在特定地形战斗的单位获得对应升级
- 地形升级会随地形改变而改变
- 可以永久保留地形适应能力

### 2. 时间关联升级
- 游戏不同时段解锁特殊升级
- 夜间/白天有不同的升级效果
- 特殊节日事件升级

### 3. 成就关联升级
- 完成特定成就解锁特殊升级
- 成就升级具有纪念意义
- 可能获得独特外观效果

---

这个升级和进化系统为《几何境域：形态之战》提供了深度的策略性和成长性，让每个种族都能通过不同的升级路径展现其独特特色，同时保持了游戏的平衡性和可玩性。