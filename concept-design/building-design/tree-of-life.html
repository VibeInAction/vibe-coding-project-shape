<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”Ÿå‘½ä¹‹æ ‘ - èºæ—‹ä¹‹å­ç»ˆææˆ˜ç•¥å»ºç­‘</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap');
        
        * {
            font-family: 'Noto Sans SC', sans-serif;
        }
        
        :root {
            --spiral-color: #8b5cf6;
            --life-glow: #a855f7;
            --tree-bark: #7c2d12;
            --leaves-primary: #10b981;
            --leaves-secondary: #059669;
        }
        
        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #0f0f1e 100%);
            color: #e5e7eb;
        }
        
        .life-aura {
            background: radial-gradient(ellipse at center, rgba(139, 92, 246, 0.3) 0%, transparent 70%);
            animation: pulse 4s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.7; }
        }
        
        .tree-branch {
            background: linear-gradient(135deg, #7c2d12 0%, #dc2626 100%);
            box-shadow: 0 0 20px rgba(220, 38, 38, 0.5);
            transition: all 0.3s ease;
        }
        
        .tree-branch:hover {
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(220, 38, 38, 0.7);
        }
        
        .life-energy {
            background: linear-gradient(90deg, #10b981 0%, #a855f7 100%);
            background-size: 200% 100%;
            animation: energy-flow 3s linear infinite;
        }
        
        @keyframes energy-flow {
            0% { background-position: 0% 50%; }
            100% { background-position: 200% 50%; }
        }
        
        .ultimate-ability {
            background: linear-gradient(135deg, #7c3aed 0%, #ec4899 100%);
            box-shadow: 0 4px 20px rgba(236, 72, 153, 0.5);
            transition: all 0.3s ease;
        }
        
        .ultimate-ability:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 30px rgba(236, 72, 153, 0.7);
        }
        
        .life-node {
            width: 10px;
            height: 10px;
            background: #a855f7;
            border-radius: 50%;
            position: absolute;
            animation: float-up 5s linear infinite;
        }
        
        @keyframes float-up {
            0% {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) scale(0);
                opacity: 0;
            }
        }
        
        .network-line {
            stroke: #8b5cf6;
            stroke-width: 2;
            fill: none;
            opacity: 0.6;
            stroke-dasharray: 5, 5;
            animation: dash 20s linear infinite;
        }
        
        @keyframes dash {
            to { stroke-dashoffset: -100; }
        }
        
        .tree-canopy {
            background: radial-gradient(ellipse at center, rgba(16, 185, 129, 0.4) 0%, transparent 60%);
            animation: sway 8s ease-in-out infinite;
        }
        
        @keyframes sway {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(10px); }
        }
    </style>
</head>
<body class="min-h-screen relative overflow-hidden">
    <!-- ç”Ÿå‘½å…‰ç¯èƒŒæ™¯ -->
    <div class="life-aura absolute inset-0 pointer-events-none"></div>
    
    <!-- ç½‘ç»œè¿æ¥æ•ˆæœ -->
    <svg class="absolute inset-0 w-full h-full pointer-events-none">
        <line class="network-line" x1="50%" y1="80%" x2="20%" y2="20%" />
        <line class="network-line" x1="50%" y1="80%" x2="80%" y2="20%" />
        <line class="network-line" x1="50%" y1="80%" x2="10%" y2="50%" />
        <line class="network-line" x1="50%" y1="80%" x2="90%" y2="50%" />
        <line class="network-line" x1="50%" y1="80%" x2="50%" y2="10%" />
    </svg>
    
    <!-- ç”Ÿå‘½èƒ½é‡ç²’å­ -->
    <div id="lifeParticles" class="absolute inset-0 pointer-events-none"></div>
    
    <!-- ä¸»å®¹å™¨ -->
    <div class="container mx-auto px-4 py-8 relative z-10">
        <!-- æ ‡é¢˜åŒºåŸŸ -->
        <header class="text-center mb-8">
            <h1 class="text-5xl font-bold mb-2 bg-gradient-to-r from-purple-400 to-pink-600 bg-clip-text text-transparent">
                ç”Ÿå‘½ä¹‹æ ‘
            </h1>
            <p class="text-xl text-purple-300">Tree of Life Â· èºæ—‹ä¹‹å­ç»ˆææˆ˜ç•¥å»ºç­‘</p>
            <div class="mt-4 flex justify-center gap-2">
                <span class="px-4 py-2 bg-purple-900/50 rounded-full text-sm">æˆ˜ç•¥å»ºç­‘</span>
                <span class="px-4 py-2 bg-green-900/50 rounded-full text-sm">ç”Ÿå‘½æ§åˆ¶</span>
                <span class="px-4 py-2 bg-pink-900/50 rounded-full text-sm">è¿›åŒ–æ ¸å¿ƒ</span>
            </div>
        </header>
        
        <!-- 3Dæ¨¡å‹å±•ç¤ºåŒº -->
        <div class="grid lg:grid-cols-2 gap-8 mb-8">
            <!-- å·¦ä¾§3Dæ¨¡å‹ -->
            <div class="bg-black/30 backdrop-blur-sm rounded-xl p-6 border border-purple-500/30">
                <h2 class="text-2xl font-semibold mb-4 text-purple-400">ç”Ÿå‘½ä¹‹æ ‘æ¨¡å‹</h2>
                <div id="tree3D" class="w-full h-96 rounded-lg overflow-hidden relative">
                    <!-- 3Dåœºæ™¯å°†åœ¨è¿™é‡Œæ¸²æŸ“ -->
                </div>
                <div class="mt-4 flex justify-center gap-4">
                    <button onclick="rotateTree()" class="px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg transition">
                        æ—‹è½¬è§†è§’
                    </button>
                    <button onclick="toggleGrowth()" class="px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg transition">
                        ç”Ÿé•¿åŠ¨ç”»
                    </button>
                    <button onclick="activateLifeBloom()" class="px-4 py-2 bg-pink-600 hover:bg-pink-700 rounded-lg transition">
                        ç”Ÿå‘½ç»½æ”¾
                    </button>
                </div>
            </div>
            
            <!-- å³ä¾§æ ¸å¿ƒå‚æ•° -->
            <div class="space-y-6">
                <!-- å»ºç­‘ä¿¡æ¯ -->
                <div class="bg-black/30 backdrop-blur-sm rounded-xl p-6 border border-purple-500/30">
                    <h3 class="text-xl font-semibold mb-4 text-purple-400">å»ºç­‘è§„æ ¼</h3>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <p class="text-gray-400">é«˜åº¦</p>
                            <p class="text-2xl font-bold text-green-400">100 ç±³</p>
                        </div>
                        <div>
                            <p class="text-gray-400">å† å¹…</p>
                            <p class="text-2xl font-bold text-green-400">80 ç±³</p>
                        </div>
                        <div>
                            <p class="text-gray-400">æ ¹ç³»æ·±åº¦</p>
                            <p class="text-2xl font-bold text-green-400">500 ç±³</p>
                        </div>
                        <div>
                            <p class="text-gray-400">ç”Ÿå‘½ç½‘ç»œèŒƒå›´</p>
                            <p class="text-2xl font-bold text-green-400">å…¨åœ°å›¾</p>
                        </div>
                    </div>
                </div>
                
                <!-- ç”Ÿå‘½å‚æ•° -->
                <div class="bg-black/30 backdrop-blur-sm rounded-xl p-6 border border-purple-500/30">
                    <h3 class="text-xl font-semibold mb-4 text-purple-400">ç”Ÿå‘½èƒ½é‡</h3>
                    <div class="space-y-3">
                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm text-gray-400">ç”Ÿå‘½å€¼</span>
                                <span class="text-sm text-green-400">50000/50000</span>
                            </div>
                            <div class="w-full bg-gray-700 rounded-full h-3">
                                <div class="life-energy h-3 rounded-full" style="width: 100%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm text-gray-400">ç”Ÿå‘½è¿æ¥</span>
                                <span class="text-sm text-purple-400">256</span>
                            </div>
                            <div class="w-full bg-gray-700 rounded-full h-3">
                                <div class="bg-purple-600 h-3 rounded-full" style="width: 100%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm text-gray-400">è¿›åŒ–èƒ½é‡</span>
                                <span class="text-sm text-pink-400">100%</span>
                            </div>
                            <div class="w-full bg-gray-700 rounded-full h-3">
                                <div class="bg-pink-600 h-3 rounded-full" style="width: 100%"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- æ ‘å† ç³»ç»Ÿ -->
        <div class="bg-black/30 backdrop-blur-sm rounded-xl p-6 mb-8 border border-purple-500/30">
            <h2 class="text-2xl font-semibold mb-4 text-purple-400">æ ‘å† ç³»ç»Ÿ</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="tree-canopy rounded-lg p-4 relative overflow-hidden">
                    <h3 class="text-lg font-semibold text-green-400 mb-2">ä¸»ä½“ç»“æ„</h3>
                    <ul class="space-y-2 text-sm">
                        <li class="flex items-center gap-2">
                            <span class="w-2 h-2 bg-green-400 rounded-full"></span>
                            åƒå¹´å¤æœ¨ä¸»å¹²
                        </li>
                        <li class="flex items-center gap-2">
                            <span class="w-2 h-2 bg-green-400 rounded-full"></span>
                            å…«å¤§ä¸»åˆ†æ”¯
                        </li>
                        <li class="flex items-center gap-2">
                            <span class="w-2 h-2 bg-green-400 rounded-full"></span>
                            æ— é™æ¬¡çº§åˆ†æ”¯
                        </li>
                        <li class="flex items-center gap-2">
                            <span class="w-2 h-2 bg-green-400 rounded-full"></span>
                            æ°¸æ’ç”Ÿå‘½æ ¸å¿ƒ
                        </li>
                    </ul>
                </div>
                <div class="tree-canopy rounded-lg p-4 relative overflow-hidden">
                    <h3 class="text-lg font-semibold text-purple-400 mb-2">ç”Ÿå‘½ç½‘ç»œ</h3>
                    <ul class="space-y-2 text-sm">
                        <li class="flex items-center gap-2">
                            <span class="w-2 h-2 bg-purple-400 rounded-full"></span>
                            è¿æ¥æ‰€æœ‰ç”Ÿå‘½å•ä½
                        </li>
                        <li class="flex items-center gap-2">
                            <span class="w-2 h-2 bg-purple-400 rounded-full"></span>
                            å®æ—¶ç”Ÿå‘½çŠ¶æ€ç›‘æ§
                        </li>
                        <li class="flex items-center gap-2">
                            <span class="w-2 h-2 bg-purple-400 rounded-full"></span>
                            ç”Ÿå‘½èƒ½é‡ä¼ è¾“
                        </li>
                        <li class="flex items-center gap-2">
                            <span class="w-2 h-2 bg-purple-400 rounded-full"></span>
                            ç¾¤ä½“å¼ºåŒ–æ•ˆæœ
                        </li>
                    </ul>
                </div>
                <div class="tree-canopy rounded-lg p-4 relative overflow-hidden">
                    <h3 class="text-lg font-semibold text-pink-400 mb-2">è¿›åŒ–æ ¸å¿ƒ</h3>
                    <ul class="space-y-2 text-sm">
                        <li class="flex items-center gap-2">
                            <span class="w-2 h-2 bg-pink-400 rounded-full"></span>
                            ç»ˆæè¿›åŒ–æ§åˆ¶
                        </li>
                        <li class="flex items-center gap-2">
                            <span class="w-2 h-2 bg-pink-400 rounded-full"></span>
                            å…¨å±€è¿›åŒ–åŠ é€Ÿ
                        </li>
                        <li class="flex items-center gap-2">
                            <span class="w-2 h-2 bg-pink-400 rounded-full"></span>
                            è¿›åŒ–è·¯å¾„ä¼˜åŒ–
                        </li>
                        <li class="flex items-center gap-2">
                            <span class="w-2 h-2 bg-pink-400 rounded-full"></span>
                            æ— é™è¿›åŒ–å¯èƒ½
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- ç»ˆæèƒ½åŠ› -->
        <div class="bg-black/30 backdrop-blur-sm rounded-xl p-6 mb-8 border border-purple-500/30">
            <h2 class="text-2xl font-semibold mb-4 text-purple-400">ç»ˆæèƒ½åŠ›</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                <div class="ultimate-ability rounded-lg p-4 text-center">
                    <div class="text-3xl mb-2">ğŸŒ¸</div>
                    <h3 class="font-semibold text-green-400 mb-2">ç”Ÿå‘½ç»½æ”¾</h3>
                    <p class="text-sm text-gray-300 mb-3">å¤æ´»æ‰€æœ‰é˜µäº¡å•ä½ï¼Œæ¢å¤æ»¡çŠ¶æ€</p>
                    <div class="text-xs text-gray-400">å†·å´æ—¶é—´ï¼š300ç§’</div>
                    <button onclick="activateLifeBloom()" class="mt-2 w-full py-1 bg-green-600/50 hover:bg-green-600/70 rounded transition">
                        æ¿€æ´»
                    </button>
                </div>
                <div class="ultimate-ability rounded-lg p-4 text-center">
                    <div class="text-3xl mb-2">ğŸ§¬</div>
                    <h3 class="font-semibold text-purple-400 mb-2">è¿›åŒ–çˆ†å‘</h3>
                    <p class="text-sm text-gray-300 mb-3">æ‰€æœ‰å•ä½ç«‹å³å®Œæˆä¸€æ¬¡è¿›åŒ–</p>
                    <div class="text-xs text-gray-400">å†·å´æ—¶é—´ï¼š240ç§’</div>
                    <button onclick="activateEvolutionBurst()" class="mt-2 w-full py-1 bg-purple-600/50 hover:bg-purple-600/70 rounded transition">
                        æ¿€æ´»
                    </button>
                </div>
                <div class="ultimate-ability rounded-lg p-4 text-center">
                    <div class="text-3xl mb-2">ğŸ›¡ï¸</div>
                    <h3 class="font-semibold text-pink-400 mb-2">ç”Ÿå‘½å®ˆæŠ¤</h3>
                    <p class="text-sm text-gray-300 mb-3">æ‰€æœ‰å•ä½è·å¾—æ— æ•Œä¿æŠ¤60ç§’</p>
                    <div class="text-xs text-gray-400">å†·å´æ—¶é—´ï¼š180ç§’</div>
                    <button onclick="activateLifeGuardian()" class="mt-2 w-full py-1 bg-pink-600/50 hover:bg-pink-600/70 rounded transition">
                        æ¿€æ´»
                    </button>
                </div>
                <div class="ultimate-ability rounded-lg p-4 text-center">
                    <div class="text-3xl mb-2">âš¡</div>
                    <h3 class="font-semibold text-yellow-400 mb-2">ç”Ÿå‘½è½¬åŒ–</h3>
                    <p class="text-sm text-gray-300 mb-3">å°†å¤šä½™ç”Ÿå‘½å€¼è½¬åŒ–ä¸ºèƒ½é‡</p>
                    <div class="text-xs text-gray-400">å†·å´æ—¶é—´ï¼š120ç§’</div>
                    <button onclick="activateLifeTransform()" class="mt-2 w-full py-1 bg-yellow-600/50 hover:bg-yellow-600/70 rounded transition">
                        æ¿€æ´»
                    </button>
                </div>
            </div>
        </div>
        
        <!-- ç”Ÿå‘½è¿æ¥çŠ¶æ€ -->
        <div class="bg-black/30 backdrop-blur-sm rounded-xl p-6 border border-purple-500/30">
            <h2 class="text-2xl font-semibold mb-4 text-purple-400">ç”Ÿå‘½è¿æ¥çŠ¶æ€</h2>
            <div class="overflow-x-auto">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b border-purple-500/30">
                            <th class="text-left py-2 px-4">å•ä½ç±»å‹</th>
                            <th class="text-center py-2 px-4">æ•°é‡</th>
                            <th class="text-center py-2 px-4">ç”Ÿå‘½çŠ¶æ€</th>
                            <th class="text-center py-2 px-4">å¼ºåŒ–æ•ˆæœ</th>
                            <th class="text-center py-2 px-4">è¿›åŒ–è¿›åº¦</th>
                        </tr>
                    </thead>
                    <tbody id="connectionTable">
                        <!-- åŠ¨æ€å¡«å…… -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    
    <script>
        // Three.js åœºæ™¯è®¾ç½®
        let scene, camera, renderer;
        let treeOfLife;
        let isGrowthActive = false;
        
        function initThreeJS() {
            const container = document.getElementById('tree3D');
            const width = container.clientWidth;
            const height = container.clientHeight;
            
            // åˆ›å»ºåœºæ™¯
            scene = new THREE.Scene();
            scene.fog = new THREE.Fog(0x0f0f1e, 50, 200);
            
            // åˆ›å»ºç›¸æœº
            camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);
            camera.position.set(30, 30, 50);
            camera.lookAt(0, 20, 0);
            
            // åˆ›å»ºæ¸²æŸ“å™¨
            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(width, height);
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap;
            container.appendChild(renderer.domElement);
            
            // æ·»åŠ ç¯å…‰
            const ambientLight = new THREE.AmbientLight(0x404040, 0.5);
            scene.add(ambientLight);
            
            const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
            directionalLight.position.set(50, 100, 50);
            directionalLight.castShadow = true;
            scene.add(directionalLight);
            
            const lifeLight = new THREE.PointLight(0xa855f7, 2, 100);
            lifeLight.position.set(0, 50, 0);
            scene.add(lifeLight);
            
            // åˆ›å»ºç”Ÿå‘½ä¹‹æ ‘
            createTreeOfLife();
            
            // å¼€å§‹åŠ¨ç”»å¾ªç¯
            animate();
        }
        
        function createTreeOfLife() {
            treeOfLife = new THREE.Group();
            
            // ä¸»å¹²
            const trunkGeometry = new THREE.CylinderGeometry(5, 8, 60, 32);
            const trunkMaterial = new THREE.MeshPhongMaterial({
                color: 0x7c2d12,
                emissive: 0x331111,
                emissiveIntensity: 0.3
            });
            const trunk = new THREE.Mesh(trunkGeometry, trunkMaterial);
            trunk.position.y = 30;
            trunk.castShadow = true;
            treeOfLife.add(trunk);
            
            // ä¸»åˆ†æ”¯
            for (let i = 0; i < 8; i++) {
                const angle = (i / 8) * Math.PI * 2;
                const branchLength = 30 + Math.random() * 20;
                
                const branchGeometry = new THREE.CylinderGeometry(2, 3, branchLength, 16);
                const branchMaterial = new THREE.MeshPhongMaterial({
                    color: 0x8b4513,
                    emissive: 0x441111,
                    emissiveIntensity: 0.2
                });
                const branch = new THREE.Mesh(branchGeometry, branchMaterial);
                
                branch.position.set(
                    Math.cos(angle) * 10,
                    40 + Math.random() * 20,
                    Math.sin(angle) * 10
                );
                branch.rotation.z = Math.PI / 6;
                branch.rotation.y = angle;
                branch.castShadow = true;
                treeOfLife.add(branch);
                
                // æ·»åŠ æ ‘å¶
                const leavesGeometry = new THREE.SphereGeometry(15, 16, 16);
                const leavesMaterial = new THREE.MeshPhongMaterial({
                    color: 0x10b981,
                    emissive: 0x0d4f3a,
                    emissiveIntensity: 0.3,
                    transparent: true,
                    opacity: 0.8
                });
                const leaves = new THREE.Mesh(leavesGeometry, leavesMaterial);
                leaves.position.copy(branch.position);
                leaves.position.y += branchLength / 2 + 10;
                treeOfLife.add(leaves);
            }
            
            // ç”Ÿå‘½æ ¸å¿ƒ
            const coreGeometry = new THREE.SphereGeometry(3, 32, 32);
            const coreMaterial = new THREE.MeshPhongMaterial({
                color: 0xa855f7,
                emissive: 0x8b5cf6,
                emissiveIntensity: 1,
                transparent: true,
                opacity: 0.9
            });
            const core = new THREE.Mesh(coreGeometry, coreMaterial);
            core.position.y = 30;
            treeOfLife.add(core);
            
            // æ·»åŠ å…‰ç¯æ•ˆæœ
            const ringGeometry = new THREE.TorusGeometry(10, 1, 16, 100);
            const ringMaterial = new THREE.MeshPhongMaterial({
                color: 0xa855f7,
                emissive: 0x8b5cf6,
                emissiveIntensity: 0.8,
                transparent: true,
                opacity: 0.6
            });
            const ring = new THREE.Mesh(ringGeometry, ringMaterial);
            ring.position.y = 30;
            ring.rotation.x = Math.PI / 2;
            treeOfLife.add(ring);
            
            scene.add(treeOfLife);
        }
        
        function animate() {
            requestAnimationFrame(animate);
            
            // æ—‹è½¬æ ‘
            if (treeOfLife) {
                treeOfLife.rotation.y += 0.002;
            }
            
            // ç”Ÿé•¿åŠ¨ç”»
            if (isGrowthActive && treeOfLife) {
                treeOfLife.scale.x = Math.min(treeOfLife.scale.x + 0.001, 1.2);
                treeOfLife.scale.y = Math.min(treeOfLife.scale.y + 0.001, 1.2);
                treeOfLife.scale.z = Math.min(treeOfLife.scale.z + 0.001, 1.2);
            }
            
            renderer.render(scene, camera);
        }
        
        function rotateTree() {
            if (treeOfLife) {
                treeOfLife.rotation.y += Math.PI / 4;
            }
        }
        
        function toggleGrowth() {
            isGrowthActive = !isGrowthActive;
            if (!isGrowthActive && treeOfLife) {
                treeOfLife.scale.set(1, 1, 1);
            }
        }
        
        function activateLifeBloom() {
            // ç”Ÿå‘½ç»½æ”¾ç‰¹æ•ˆ
            for (let i = 0; i < 50; i++) {
                createLifeParticle();
            }
            
            // æ˜¾ç¤ºæ•ˆæœæç¤º
            showEffectMessage('ç”Ÿå‘½ç»½æ”¾å·²æ¿€æ´»ï¼æ‰€æœ‰å•ä½æ¢å¤æ»¡çŠ¶æ€ï¼', 'green');
        }
        
        function activateEvolutionBurst() {
            // è¿›åŒ–çˆ†å‘ç‰¹æ•ˆ
            scene.fog = new THREE.Fog(0x8b5cf6, 10, 100);
            setTimeout(() => {
                scene.fog = new THREE.Fog(0x0f0f1e, 50, 200);
            }, 3000);
            
            showEffectMessage('è¿›åŒ–çˆ†å‘å·²æ¿€æ´»ï¼æ‰€æœ‰å•ä½å®Œæˆè¿›åŒ–ï¼', 'purple');
        }
        
        function activateLifeGuardian() {
            // ç”Ÿå‘½å®ˆæŠ¤ç‰¹æ•ˆ
            if (treeOfLife) {
                treeOfLife.children.forEach(child => {
                    if (child.material) {
                        child.material.emissive = new THREE.Color(0xff69b4);
                        child.material.emissiveIntensity = 1;
                    }
                });
                
                setTimeout(() => {
                    treeOfLife.children.forEach(child => {
                        if (child.material) {
                            child.material.emissive = new THREE.Color(0x331111);
                            child.material.emissiveIntensity = 0.3;
                        }
                    });
                }, 60000);
            }
            
            showEffectMessage('ç”Ÿå‘½å®ˆæŠ¤å·²æ¿€æ´»ï¼æ‰€æœ‰å•ä½è·å¾—60ç§’æ— æ•Œï¼', 'pink');
        }
        
        function activateLifeTransform() {
            // ç”Ÿå‘½è½¬åŒ–ç‰¹æ•ˆ
            showEffectMessage('ç”Ÿå‘½è½¬åŒ–å·²æ¿€æ´»ï¼ç”Ÿå‘½å€¼è½¬åŒ–ä¸ºèƒ½é‡ï¼', 'yellow');
        }
        
        function createLifeParticle() {
            const particle = document.createElement('div');
            particle.className = 'life-node';
            particle.style.left = Math.random() * window.innerWidth + 'px';
            particle.style.top = window.innerHeight + 'px';
            particle.style.animationDuration = (3 + Math.random() * 2) + 's';
            document.getElementById('lifeParticles').appendChild(particle);
            
            setTimeout(() => {
                particle.remove();
            }, 5000);
        }
        
        function showEffectMessage(message, color) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `fixed top-4 right-4 px-6 py-3 rounded-lg text-white font-semibold z-50 animate-pulse`;
            messageDiv.style.backgroundColor = color === 'green' ? '#10b981' : 
                                             color === 'purple' ? '#8b5cf6' :
                                             color === 'pink' ? '#ec4899' : '#f59e0b';
            messageDiv.textContent = message;
            document.body.appendChild(messageDiv);
            
            setTimeout(() => {
                messageDiv.remove();
            }, 3000);
        }
        
        // åˆå§‹åŒ–è¿æ¥è¡¨æ ¼
        function initConnectionTable() {
            const units = [
                { name: 'å­¢å­æ­¥å…µ', count: 45, health: 95, bonus: '+25%', evolution: 'è¿›åŒ–ä¸­' },
                { name: 'è—¤è”“æˆ˜å£«', count: 20, health: 88, bonus: '+30%', evolution: 'å·²å®Œæˆ' },
                { name: 'è¿›åŒ–çŒæ‰‹', count: 12, health: 92, bonus: '+35%', evolution: 'è¿›åŒ–ä¸­' },
                { name: 'ç”Ÿå‘½å®ˆæŠ¤è€…', count: 8, health: 100, bonus: '+40%', evolution: 'å¾…è¿›åŒ–' }
            ];
            
            const tableBody = document.getElementById('connectionTable');
            units.forEach(unit => {
                const row = document.createElement('tr');
                row.className = 'border-b border-purple-500/20 hover:bg-purple-500/10';
                row.innerHTML = `
                    <td class="py-2 px-4">${unit.name}</td>
                    <td class="text-center py-2 px-4">${unit.count}</td>
                    <td class="text-center py-2 px-4">
                        <span class="px-2 py-1 rounded text-xs ${unit.health > 90 ? 'bg-green-600/50' : 'bg-yellow-600/50'}">
                            ${unit.health}%
                        </span>
                    </td>
                    <td class="text-center py-2 px-4 text-green-400">${unit.bonus}</td>
                    <td class="text-center py-2 px-4">
                        <span class="px-2 py-1 rounded text-xs ${unit.evolution === 'å·²å®Œæˆ' ? 'bg-purple-600/50' : 'bg-yellow-600/50'}">
                            ${unit.evolution}
                        </span>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }
        
        // æŒç»­ç”Ÿæˆç”Ÿå‘½ç²’å­
        setInterval(createLifeParticle, 500);
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        window.addEventListener('load', () => {
            initThreeJS();
            initConnectionTable();
        });
        
        // å“åº”çª—å£å¤§å°å˜åŒ–
        window.addEventListener('resize', () => {
            if (camera && renderer) {
                const container = document.getElementById('tree3D');
                camera.aspect = container.clientWidth / container.clientHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(container.clientWidth, container.clientHeight);
            }
        });
    </script>
</body>
</html>